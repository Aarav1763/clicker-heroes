<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clicker Heroes Clone </title>
<style>
body { font-family: sans-serif; background: #222; color: #eee; margin: 0; padding: 0; }
#info { padding: 10px; }
button { margin: 2px; padding: 5px 10px; }
#monster { font-size: 80px; text-align: center; cursor: pointer; user-select: none; }
.floatDmg { position: absolute; font-weight: bold; color: #FFD700; user-select: none; pointer-events: none; transition: all 0.5s linear; }
#heroList, #mercList { padding: 10px; max-width: 800px; margin: auto; }
</style>
</head>
<body>

<div id="info">
  Gold: <span id="gold">0</span> |
  Souls: <span id="souls">0</span> |
  Stage: <span id="stage">1</span> |
  Monsters: <span id="monstersBeaten">0/10</span> |
  DPS: <span id="dps">0</span>
</div>

<div id="monster">ðŸ‘¾</div>

<h3>Heroes</h3>
<div id="heroList"></div>

<h3>Mercenaries (Quest Available)</h3>
<div id="mercList"></div>

<div id="floatLayer"></div>

<script>
// ====== HERO SETUP ======
const HERO_STATS = [
{ name: "Cid", baseCost: 5, baseDPS: 0 },{ name: "Treebeast", baseCost: 50, baseDPS: 5 },{ name: "Ivan", baseCost: 250, baseDPS: 22 },
{ name: "Brittany", baseCost: 1000, baseDPS: 74 },{ name: "Fisherman", baseCost: 4000, baseDPS: 245 },{ name: "Betty Clicker", baseCost: 20000, baseDPS: 976 },
{ name: "Masked Samurai", baseCost: 100000, baseDPS: 3725 },{ name: "Leon", baseCost: 400000, baseDPS: 10859 },{ name: "Forest Seer", baseCost: 2500000, baseDPS: 47143 },
{ name: "Alexa", baseCost: 15000000, baseDPS: 186900 },{ name: "Natalia", baseCost: 100000000, baseDPS: 782000 },{ name: "Mercedes", baseCost: 800000000, baseDPS: 3721000 },
{ name: "Bobby", baseCost: 6500000000, baseDPS: 17010000 },{ name: "Broyle Lindeoven", baseCost: 50000000000, baseDPS: 69480000 },{ name: "Abaddon", baseCost: 3.2e14, baseDPS: 1.31e11 },
{ name: "Ma Zhu", baseCost: 2.7e15, baseDPS: 8.147e11 },{ name: "Beastlord", baseCost: 3e17, baseDPS: 4.914e13 },{ name: "Athena", baseCost: 9e18, baseDPS: 1.086e15 },
{ name: "Dread Knight", baseCost: 1e40, baseDPS: 1.31e32 },{ name: "Atlas", baseCost: 1e55, baseDPS: 1e34 },{ name: "Terra", baseCost: 1e70, baseDPS: 5e60 },
{ name: "Phthalo", baseCost: 1e85, baseDPS: 5.241e70 },
];

// Add extra heroes & Kerwill
let heroes = HERO_STATS.map(h=>({name:h.name,level:0,baseCost:h.baseCost,cost:h.baseCost,baseDPS:h.baseDPS}));
while(heroes.length<55-1){
  let prev=heroes[heroes.length-1];
  heroes.push({name:"Hero"+(heroes.length+1),level:0,baseCost:prev.baseCost*10,cost:prev.baseCost*10,baseDPS:prev.baseDPS*10});
}
heroes.push({name:"Kerwill, the drunken baller",level:0,baseCost:heroes[heroes.length-1].baseCost*10,cost:heroes[heroes.length-1].baseCost*10,baseDPS:heroes[heroes.length-1].baseDPS*2});

// ====== GAME STATE ======
let gold=0,souls=0,dps=0,stage=1,monstersBeaten=0,monstersPerStage=10,monsterHP=0,monsterMaxHP=0;
let lastPrimalStage = 99; // track last primal for 100â€“199

// ====== NUMBER FORMAT ======
function formatNumber(n){if(n===0)return"0";const suffixes=["","K","M","B","T","q","Q","s","S","O","N","d","U","D","!","@","#","$","%","^","&","*"];const tier=Math.floor(Math.log10(n)/3);if(tier<0)return n.toFixed(0);const suffix=suffixes[tier]||"e"+(tier*3);const scale=Math.pow(10,tier*3);const scaled=n/scale;return scaled<100?scaled.toFixed(2)+suffix:scaled.toFixed(0)+suffix;}

// ====== HERO UI ======
const heroListEl=document.getElementById("heroList");const floatLayer=document.getElementById("floatLayer");
function recalcDPS(){dps=heroes.reduce((sum,h)=>sum+h.level*h.baseDPS,0);}
function renderHeroes(){heroListEl.innerHTML="";heroes.forEach((h,i)=>{const btn=document.createElement("button");btn.textContent=`${h.name} Lvl:${h.level} Cost:${formatNumber(h.cost)}`;btn.onclick=()=>{if(gold>=h.cost){gold-=h.cost;h.level++;h.cost=Math.floor(h.baseCost*Math.pow(1.07,h.level));recalcDPS();updateUI();}};heroListEl.appendChild(btn);});}

// ====== MERC QUEST SYSTEM ======
let mercs=[
{name:"Merc A",level:0,onQuest:false,questTime:0},
{name:"Merc B",level:0,onQuest:false,questTime:0},
{name:"Merc C",level:0,onQuest:false,questTime:0},
];
const mercListEl=document.getElementById("mercList");
function renderMercs(){
mercListEl.innerHTML="";
mercs.forEach((m,i)=>{
  const btn=document.createElement("button");
  btn.textContent=`${m.name} Lvl:${m.level} ${m.onQuest?"On Quest":"Idle"}`;
  btn.onclick=()=>{
    if(!m.onQuest){
      m.onQuest=true;
      m.questTime=Date.now()+5000; // 5 seconds demo
    }
  };
  mercListEl.appendChild(btn);
});
}

// ====== MONSTER SPAWN & CLICK ======
const monsterDiv=document.getElementById("monster");
function isBoss(stage){return stage%5===0;}
function isPrimal(stage){
  if(stage>=100 && stage<200){
    // ensure at least one primal per 2 bosses
    if(stage%100===0)return true; // guaranteed 100th
    if(stage-lastPrimalStage>=10){lastPrimalStage=stage; return true;} // at least once per 2 bosses (2*5 stages)
    return false;
  }
  if(stage>=500 && stage<1000){
    return Math.random()<0.3;
  }
  return false;
}

function spawnMonster(){
  monstersPerStage=(stage>=500&&stage<1000)?8:10;
  monstersBeaten=0;
  let bossMultiplier=isBoss(stage)?5:1;
  let primalMultiplier=isPrimal(stage)?10:1;
  monsterMaxHP=10*Math.pow(1.15,stage-1)*bossMultiplier*primalMultiplier;
  monsterHP=monsterMaxHP;
  updateUI();
}

monsterDiv.addEventListener("click",()=>{
  let dmg=1+dps*0.1;
  monsterHP-=dmg;showFloat(dmg,monsterDiv.clientWidth/2,monsterDiv.clientHeight/2);
  if(monsterHP<=0)defeatMonster();
  updateUI();
});

function defeatMonster(){
  monstersBeaten++;
  let baseReward=Math.round(monsterMaxHP/2);
  if(isBoss(stage)&&monstersBeaten===monstersPerStage)baseReward*=5;
  gold+=baseReward;
  if(monstersBeaten>=monstersPerStage){stage++;spawnMonster();}
  else monsterHP=monsterMaxHP;
}

// ====== FLOATING DAMAGE ======
function showFloat(amount,x,y){
  const el=document.createElement("div");el.className="floatDmg";el.style.left=(monsterDiv.offsetLeft+x-20)+"px";el.style.top=(monsterDiv.offsetTop+y-20)+"px";el.textContent=formatNumber(amount);floatLayer.appendChild(el);
  setTimeout(()=>{el.style.opacity="0";setTimeout(()=>floatLayer.removeChild(el),500);},300);
}

// ====== UPDATE UI ======
function updateUI(){
  document.getElementById("gold").textContent=formatNumber(gold);
  document.getElementById("dps").textContent=formatNumber(dps);
  document.getElementById("stage").textContent=stage;
  document.getElementById("monstersBeaten").textContent=`${monstersBeaten}/${monstersPerStage}`;
  renderHeroes();renderMercs();
}

// ====== GAME LOOP ======
setInterval(()=>{
  monsterHP-=dps;
  if(monsterHP<=0)defeatMonster();
  // process merc quests
  mercs.forEach(m=>{
    if(m.onQuest && Date.now()>m.questTime){
      m.onQuest=false;
      m.level++;
      gold+=m.level*100; // reward example
    }
  });
  updateUI();
},1000);

// ====== INIT ======
recalcDPS();spawnMonster();updateUI();
</script>

</body>
</html>

